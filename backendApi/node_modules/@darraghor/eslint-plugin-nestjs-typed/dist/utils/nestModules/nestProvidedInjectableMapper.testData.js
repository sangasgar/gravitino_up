"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.moduleMappingTestData = exports.fakeContext = exports.fakeFilePath = void 0;
const NestProvidedInjectablesMap_1 = require("./models/NestProvidedInjectablesMap");
exports.fakeFilePath = "fake/path.ts";
// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment
exports.fakeContext = {
    parserOptions: {
        ecmaVersion: 2019,
        ecmaFeatures: { globalReturn: false },
        sourceType: "module",
    },
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
};
exports.moduleMappingTestData = [
    {
        moduleCode: `import { Module } from "@nestjs/common";

    @Module({
        controllers: [MyController],
        providers: [
            MyProvider,
            MyInjectable,
        ],
        imports: [MyExternalModule, MySecondModule],
        exports: [MyInjectable],
    })
    export class MyModule {}`,
        expectedMapping: [
            exports.fakeFilePath,
            new NestProvidedInjectablesMap_1.NestProvidedInjectablesMap(new Set(["MyController"]), new Set(["MyProvider", "MyInjectable"])),
        ],
    },
    {
        moduleCode: `import { Provider } from "@nestjs/common";
import { MyOtherInjectable } from "./config/MyOtherInjectable";

export const MyOtherInjectableProvider: Provider = {
    provide: MyOtherInjectable,
    useFactory: async (
        config: MyService
    ): Promise<MyOtherInjectable> => {
        return new MyOtherInjectable()
    },
    inject: [MyService],
};`,
        expectedMapping: [
            exports.fakeFilePath,
            new NestProvidedInjectablesMap_1.NestProvidedInjectablesMap(new Set([]), new Set(["MyOtherInjectable"])),
        ],
    },
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmVzdFByb3ZpZGVkSW5qZWN0YWJsZU1hcHBlci50ZXN0RGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy91dGlscy9uZXN0TW9kdWxlcy9uZXN0UHJvdmlkZWRJbmplY3RhYmxlTWFwcGVyLnRlc3REYXRhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLG9GQUErRTtBQUNsRSxRQUFBLFlBQVksR0FBRyxjQUFjLENBQUM7QUFDM0MsbUVBQW1FO0FBQ3RELFFBQUEsV0FBVyxHQUFHO0lBQ3ZCLGFBQWEsRUFBRTtRQUNYLFdBQVcsRUFBRSxJQUE0QjtRQUN6QyxZQUFZLEVBQUUsRUFBQyxZQUFZLEVBQUUsS0FBSyxFQUFDO1FBQ25DLFVBQVUsRUFBRSxRQUFRO0tBQ0c7SUFDM0IsOERBQThEO0NBQzFELENBQUM7QUFDSSxRQUFBLHFCQUFxQixHQUFHO0lBQ2pDO1FBQ0ksVUFBVSxFQUFFOzs7Ozs7Ozs7Ozs2QkFXUztRQUNyQixlQUFlLEVBQUU7WUFDYixvQkFBWTtZQUNaLElBQUksdURBQTBCLENBQzFCLElBQUksR0FBRyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsRUFDekIsSUFBSSxHQUFHLENBQUMsQ0FBQyxZQUFZLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FDMUM7U0FDSjtLQUNKO0lBQ0Q7UUFDSSxVQUFVLEVBQUU7Ozs7Ozs7Ozs7O0dBV2pCO1FBQ0ssZUFBZSxFQUFFO1lBQ2Isb0JBQVk7WUFDWixJQUFJLHVEQUEwQixDQUMxQixJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFDWCxJQUFJLEdBQUcsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FDakM7U0FDSjtLQUNKO0NBQ0osQ0FBQyJ9